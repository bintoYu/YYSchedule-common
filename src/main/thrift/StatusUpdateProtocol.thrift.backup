#
# Interface definition for AppStatus Update
#

include "Task.thrift"
include "Container.thrift"
include "Exception.thrift"
include "Job.thrift"

namespace java com.binto.YYSchedule.common.rpc.service.notify
namespace php com.binto.YYSchedule.common.rpc.service.notify
namespace py rpc.notify

# API version (NOT the product version)
# VERSION = "0.1.0"
# AUTHOR = yubingtao

#
# service api
#

/** Task Service response for RPCs from task manager */
service StatusNotifyService {
	
	/** 
	 * notify app status
	 * @param	userId
	 * @param	identifier - file md5 or appId
	 * @param	jobPhase
	 * @param	appStatus
	 * @param	content
	 * @return	@return	succeed or not
	 */
	i32 appStatusNotify	(
		1: required		i64				userId,
		2: required		string			identifier,
		3: required		Job.JobPhase	jobPhase,
		4: required		Task.TaskStatus	taskStatus,
		5: optional		string			content,
	)	throws	(
		1:	Exception.InvalidRequestException	ire,
		2:	Exception.UnavailableException		ue,
		3:	Exception.TimeoutException			te
	),

}